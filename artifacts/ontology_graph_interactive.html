<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Ontology Graph (Interactive)</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<style>
  html, body { height: 100%; margin: 0; }
  #mynetwork { width: 100%; height: 95vh; border: 1px solid #ccc; }
  .legend { padding: 8px 12px; font-family: sans-serif; font-size: 14px; }
  .pill { display:inline-block; padding:2px 8px; margin:2px; border-radius:12px; color:#fff; }
</style>
</head>
<body>
<div class="legend">
  <strong>Legend:</strong>
  <span class="pill" style="background:#2b8a3e">asset</span>
  <span class="pill" style="background:#1d4ed8">telemetry</span>
  <span class="pill" style="background:#b45309">maintenance</span>
  <span class="pill" style="background:#7c3aed">component</span>
  <span class="pill" style="background:#dc2626">signal</span>
</div>
<div id="mynetwork"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.9/standalone/umd/vis-network.min.js"></script>
<script>
  const nodes = new vis.DataSet([{"id": "Aircraft", "label": "Aircraft", "color": {"background": "#2b8a3e", "border": "#111", "highlight": {"background": "#2b8a3e", "border": "#111"}}, "shape": "dot", "size": 20, "title": "<b>Aircraft</b><br>Tags: asset, equipment, fleet, operational_unit<br>PK: aircraft_id", "font": {"size": 16, "bold": true}}, {"id": "Flight", "label": "Flight", "color": {"background": "#64748b", "border": "#111", "highlight": {"background": "#64748b", "border": "#111"}}, "shape": "dot", "size": 20, "title": "<b>Flight</b><br>Tags: operation, event, flight_activity<br>PK: flight_id", "font": {"size": 16, "bold": true}}, {"id": "SensorReading", "label": "SensorReading", "color": {"background": "#1d4ed8", "border": "#111", "highlight": {"background": "#1d4ed8", "border": "#111"}}, "shape": "dot", "size": 20, "title": "<b>SensorReading</b><br>Tags: telemetry, time_series, sensor_data<br>PK: reading_id", "font": {"size": 16, "bold": true}}, {"id": "WorkOrder", "label": "WorkOrder", "color": {"background": "#64748b", "border": "#111", "highlight": {"background": "#64748b", "border": "#111"}}, "shape": "dot", "size": 20, "title": "<b>WorkOrder</b><br>Tags: maintenance_event, operational_action<br>PK: wo_id", "font": {"size": 16, "bold": true}}, {"id": "Part", "label": "Part", "color": {"background": "#7c3aed", "border": "#111", "highlight": {"background": "#7c3aed", "border": "#111"}}, "shape": "dot", "size": 20, "title": "<b>Part</b><br>Tags: component, inventory_item<br>PK: part_number", "font": {"size": 16, "bold": true}}, {"id": "Alert", "label": "Alert", "color": {"background": "#64748b", "border": "#111", "highlight": {"background": "#64748b", "border": "#111"}}, "shape": "dot", "size": 20, "title": "<b>Alert</b><br>Tags: prediction_output, maintenance_risk_signal<br>PK: alert_id", "font": {"size": 16, "bold": true}}]);
  const edges = new vis.DataSet([{"from": "Aircraft", "to": "SensorReading", "arrows": "to", "label": "HAS_TELEMETRY", "title": "HAS_TELEMETRY (key: aircraft_id)", "font": {"size": 12, "align": "top"}, "color": {"color": "#555"}, "smooth": {"type": "dynamic"}}, {"from": "Aircraft", "to": "WorkOrder", "arrows": "to", "label": "HAS_MAINTENANCE_ACTION", "title": "HAS_MAINTENANCE_ACTION (key: aircraft_id)", "font": {"size": 12, "align": "top"}, "color": {"color": "#555"}, "smooth": {"type": "dynamic"}}, {"from": "WorkOrder", "to": "Part", "arrows": "to", "label": "CONSUMES_COMPONENT", "title": "CONSUMES_COMPONENT (key: part_number)", "font": {"size": 12, "align": "top"}, "color": {"color": "#555"}, "smooth": {"type": "dynamic"}}, {"from": "Aircraft", "to": "Alert", "arrows": "to", "label": "HAS_HEALTH_SIGNAL", "title": "HAS_HEALTH_SIGNAL (key: aircraft_id)", "font": {"size": 12, "align": "top"}, "color": {"color": "#555"}, "smooth": {"type": "dynamic"}}]);
  const container = document.getElementById('mynetwork');
  const data = { nodes, edges };
  const options = {"physics": {"enabled": true, "barnesHut": {"gravitationalConstant": -3000, "centralGravity": 0.3, "springLength": 150, "springConstant": 0.04, "damping": 0.09}, "stabilization": {"enabled": true, "iterations": 250}}, "interaction": {"hover": true, "tooltipDelay": 120}};
  const network = new vis.Network(container, data, options);
  // Fit once stabilization is done
  network.once('stabilizationIterationsDone', function() {
    network.fit({animation: true});
  });
</script>
</body>
</html>
